<?xml version="1.0" encoding="UTF-8"?>
<configuration-core xmlns="http://rtfm.essembeh.org/ConfigurationCore" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<substitutions>
		<substitution key="@YEAR" value="[12]\d{3}" />
		<substitution key="@DATE" value="[12]\d{3}-[\dx]{2}-[\dx]{2}" />
		<substitution key="@NAME" value="[a-zA-Z0-9\-_ '@\.]+" />
	</substitutions>
	<!-- File types -->
	<filehandlers>
		<filehandler id="Year folder">
			<conditions logic="AND">
				<fileOrFilder type="FOLDER" />
				<virtualPathMatches pattern="/@YEAR/" />
			</conditions>
			<attributes>
				<attribute name="core:export?" value="true" />
			</attributes>
		</filehandler>
		<filehandler id="Event folder">
			<conditions logic="AND">
				<fileOrFilder type="FOLDER" />
				<virtualPathMatches pattern="/@YEAR/@DATE @NAME/" />
			</conditions>
			<attributes>
				<attribute name="core:export?" value="true" />
			</attributes>
		</filehandler>
		<filehandler id="Clips folder">
			<conditions logic="AND">
				<fileOrFilder type="FOLDER" />
				<virtualPathMatches pattern="/@YEAR/@DATE @NAME/clips/" />
			</conditions>
			<attributes>
				<attribute name="core:export?" value="true" />
			</attributes>
		</filehandler>
		<filehandler id="Picture">
			<conditions logic="AND">
				<fileOrFilder type="FILE" />
				<virtualPathMatches pattern="/@YEAR/@DATE @NAME/@NAME" />
				<extension list="jpg jpeg" caseSensitive="false"/>
			</conditions>
			<attributes>
				<attribute name="core:export?" value="true" />
			</attributes>
		</filehandler>
		<filehandler id="Raw Canon">
			<conditions logic="AND">
				<fileOrFilder type="FILE" />
				<virtualPathMatches pattern="/@YEAR/@DATE @NAME/@NAME" />
				<extension list="cr2" caseSensitive="false"/>
			</conditions>
			<attributes>
				<attribute name="core:export?" value="true" />
			</attributes>
		</filehandler>
		<filehandler id="Raw Nikon">
			<conditions logic="AND">
				<fileOrFilder type="FILE" />
				<virtualPathMatches pattern="/@YEAR/@DATE @NAME/@NAME" />
				<extension list="nef" caseSensitive="false"/>
			</conditions>
			<attributes>
				<attribute name="core:export?" value="true" />
			</attributes>
		</filehandler>
		<filehandler id="Clip">
			<conditions logic="AND">
				<fileOrFilder type="FILE" />
				<virtualPathMatches pattern="/@YEAR/@DATE @NAME/clips/@NAME" />
				<extension list="mov avi mp4" caseSensitive="false" />
			</conditions>
			<attributes>
				<attribute name="core:export?" value="true" />
			</attributes>
		</filehandler>
		<filehandler id="IGNORED">
			<conditions logic="OR">
				<virtualPathMatches pattern="/tmp.*"/>
				<virtualPathMatches pattern=".*/\.DS_Store"/>
			</conditions>
			<attributes>
				<attribute name="ui:hide" value="true" />
				<attribute name="core:export?" value="false" />
			</attributes>
		</filehandler>
		<filehandler id="UNKNOWN">
			<conditions logic="AND">
				<true />
			</conditions>
			<attributes>
				<attribute name="core:export?" value="false" />
			</attributes>
		</filehandler>
	</filehandlers>
	<!-- Tasks -->
	<tasks>
		<task id="delete" classname="org.essembeh.rtfm.tasks.Echo">
			<property name="message" value="remove the file" />
		</task>
	</tasks>
	<actions>
	</actions>
</configuration-core>