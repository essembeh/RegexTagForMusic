{
  "commands": {
    "eyed3-clean": [
      "eyeD3",
      "--no-color",
      "--remove-all",
      "${path}"
    ],
    "eyed3-tag": [
      "eyeD3",
      "--no-color",
      "--artist=${ARTIST}",
      "--album=${ALBUM}",
      "--title=${TITLE}",
      "--track=${TRACK}",
      "--comment=Tagged with rtfm",
      "${path}"
    ],
    "eyed3-tag-year": [
      "eyeD3",
      "--no-color",
      "--release-year=${YEAR}",
      "${path}"
    ]
  },
  "workflows": {
    "cover": {
      "pattern": ".*/cover.jpg"
    },
    "mp3-with-year": {
      "pattern": ".*/(?<ARTIST>[^/]+)/(?<YEAR>[12]\\d{3}) - (?<ALBUM>[^/]+)/(?<TRACK>\\d{2,3}) - (?<TITLE>[^/]+)\\.mp3",
      "execute": [
        "eyed3-clean",
        "eyed3-tag",
        "eyed3-tag-year"
      ]
    },
    "mp3-without-year": {
      "pattern": ".*/(?<ARTIST>[^/]+)/(?<ALBUM>[^/]+)/(?<TRACK>\\d{2,3}) - (?<TITLE>[^/]+)\\.mp3",
      "execute": [
        "eyed3-clean",
        "eyed3-tag"
      ]
    }
  }
}
